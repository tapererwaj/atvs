<!DOCTYPE html>
<html lang="en-US">

<head>
    <title>A.T.V.S</title>

    <!-- meta tags -->
    <meta charset="UTF-8" />
    <meta name="description" content="A simple website" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- links -->
    <link rel="stylesheet" href="./css/main.css" />
    <link rel="stylesheet" href="./lib/fa/css/font-awesome.min.css" />
    <link rel="shortcut icon" href="./assets/fav_icon.png" type="image/x-icon">
</head>

<body>
    <nav>
        <div id="logo" title="Automated Toilet Ventilation System">A.T.V.S</div>
        <div class="links">
            <span><a href="#">Home</a></span>
            <span><a href="#info">About Us</a></span>
            <span><a href="#products">Products</a></span>
            <span><a href="#info">Contact Us</a></span>
        </div>

        <div class="search">
            <i class="fa fa-search fa-1x" id="submitInput"></i>
            <input type="search" name="ISearch" id="ISearch" placeholder="Search.." />
        </div>
    </nav>

    <!-- slideshow container -->
   <div class="slideshow">

    <div class="slideshowLoading">
        <span class="loader"></span>
        <span class="loader"></span>
        <span class="loader"></span>
    </div>

    <div class="slide">
        <div class="slideCover"></div>
        <span id="badge">1 / 3</span>
        <span id="caption">Caption Text</span> 
    </div> 

       <span class="prev" id="arrow" onclick="nextSlide(-1)">&#10094;</span>
       <span class="next" id="arrow" onclick="nextSlide(1)">&#10095;</span>

       <div class="pagination">
       </div>
   </div>

   <div id="products">
       <span id="header">Our Products</span>

       <div class="product">
           <div class="left">
                <span class="product-name">A.T.V.S</span>
                <span class="product-logo"></span>
                <span class="product-desc">Occasionally people use the toilet for major or minor purposes. Usually an unbearable odour arises afterwards which irritates or gives the person discomfort. Often people use air freshener's which deceive the sense of smell. But this does not clean the air. It only substitutes the odour with chemicals which possess a long term harmful effect to the breather. The need would be to design a system that would automatically replace the polluted air with clean fresh air after a person uses the toilet.</span>
                <span class="product-version">v1.0.0</span>
           </div>
           <div class="right">
               <img src="./assets/advert.png" alt="Product Advert" class="product-advert" />
           </div>
       </div>
   </div>

   <footer id='info'>
        <div class="toTop">
        <a href="#"><i class="fa fa-arrow-circle-up fa-2px"></i>Back to Top</a>
        </div>

       <div class="body">
        <div class="column">
            <span id="logo">A.T.V.S</span>
            <span id="desc">Automated Toilet Ventilation System: Unique Things come with Fresh Benefits</span>
        </div>
        
        <div class="column">
            <span id="header">Support</span>
            <ul>
               <li><a href="#contact">Contact Us</a></li>
               <li><a href="#">FAQs</a></li>
               <li><a href="#">Downloads</a></li>
               <li><a href="#">Tutorials</a></li>
            </ul>
      </div>
      
        <div class="column register">
         <span id="header"><i class="fa fa-envelope fa-1x"></i> Stay up to date on the latest from <strong>A.T.V.S</strong></span>
         <input type="email" name="rEmail" id="rEmail" placeholder="Enter your e-mail address" />
         <span class="submit">Sign Up</span>
        </div>
       </div>

       <div class="footer">
        <span>All rights reserved 2019</span>
        <div class="social-media">
              <a href="https://wa.me/263784932709" target="_blank"><i class="fa fa-whatsapp fa-1x"></i></a>
              <a href="mailto:ctapererwaj@gmail.com" target="_blank"><i class="fa fa-envelope fa-1x"></i></a>
        </div>
       </div>
   </footer>
</body>

<script>
    const slide = document.querySelector('.slideshow .slide');
    const slideBadge = document.querySelector('.slideshow .slide #badge');
    const slideCaption = document.querySelector('.slideshow .slide #caption');
    const slidePagination = document.querySelector('.slideshow .pagination');
   
    // slideshow data
    const slides = [
        {
            imgSrc: './assets/hero_img/3514.jpg',
            caption: '&#8220;If I could change to liquid, I could fill cracks up in rocks. I know that I am solid.&#8221; - Genesis'
        },
        {
            imgSrc: './assets/hero_img/105634.jpg',
            caption: '&#8220;When in doubt, skate it out.&#8221; - Unknown'
        },
        {
            imgSrc: './assets/hero_img/streetart2.jpg',
            caption: '&#8220;The science of today is the technology of tomorrow.&#8221; - Edward Teller'
        },
        {
            imgSrc: './assets/hero_img/737364.jpg',
            caption: '&#8220;Animals are such agreeable friends—they ask no questions; they pass no criticisms.&#8221; – George Eliot'
        },
        {
            imgSrc:'./assets/hero_img/IMG-20170829-WA0062.jpg',
            caption:'&#8220;A king never sleeps night or day&#8221; - Gareth Tapererwa'
        }
    ];

    // define start index
    let currentSlide = 1;
    
    // function to initialise slides
    function initSlideshow(){

        slides.forEach((_slide, index) =>{

            const dot = document.createElement('span');
            dot.className = 'dot';
            dot.setAttribute('id',index);
            slidePagination.appendChild(dot);
        });

        // display first slide
        showSlide(slides.length + 1);
    }

    // function to navigate between slides using arrows
    function nextSlide(index){
        
        console.log(currentSlide + parseInt(index));
        showSlide(currentSlide + parseInt(index));
    } 

    // function to show slide
   function showSlide(index){

    // check if currentSlide is equal to index
    if(index === currentSlide){
        // do nothing
        return
    }

    // check if index > number of slides or its negative
    if(index > slides.length){

            currentSlide = 1;
    }else if(index < 1){

        currentSlide = slides.length;
    }else{

        currentSlide = index;
    }

    // show the slide
    slide.style.backgroundImage = "url('" + slides[currentSlide - 1].imgSrc + "')";
    
    // update the badge
    slideBadge.innerText = currentSlide + " / " + slides.length;

    // update caption
    slideCaption.innerHTML = slides[currentSlide - 1].caption;

    const slidePaginationDots = document.querySelectorAll('.slideshow .pagination span');
   
    // select current slide's dot
    slidePaginationDots.forEach((slidePaginationDot, index) =>{

        // if index is equal to currentSlide -1 then select dot
        if(index === (currentSlide - 1)){

            slidePaginationDots[index].classList.toggle('active',true);
        }else{

            // deselect dot
            slidePaginationDots[index].classList.toggle('active',false);
        }
    });

}

    window.onload = ()=>{

        // initialise slides
        initSlideshow();
        
        // event listener for dots
         document.querySelectorAll('.slideshow .pagination .dot').forEach(dot =>{

            dot.addEventListener('click',()=>{

                showSlide(parseInt(dot.getAttribute('id')) + 1);
            })
        });

        // hide slide show loader
        document.querySelector('.slideshow .slideshowLoading').style.display = 'none';

        // set automatic slideshow
        setInterval(()=>{
            showSlide(currentSlide + 1);
        },5000);
    }
</script>
</html>